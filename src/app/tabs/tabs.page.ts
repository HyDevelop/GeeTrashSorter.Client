import {Component} from '@angular/core';
import pWaitFor from 'p-wait-for';

@Component({
    selector: 'app-tabs',
    templateUrl: 'tabs.page.html',
    styleUrls: ['tabs.page.scss']
})
export class TabsPage
{
    /**
     * Camera button element
     * 识图按钮节点
     */
    private elementCameraButton;

    constructor()
    {
        // Constructs itself, good job!
    }

    /**
     * This method is called when a tab icon is clicked.
     * 标签页转向事件
     *
     * @param tab The tab that it changed to.
     */
    private onTabChange(tab: string)
    {
        // Wait for page to finish loading
        // 等页面加载完
        pWaitFor(() => this.elementCameraButton != null).then(() =>
        {
            // Show on main / search, not shown on settings / about
            // 在主页或搜索页上显示, 不在设置或关于页显示
            if (+tab < 3) this.elementCameraButton.show();
            else this.elementCameraButton.hide();
        });

    }

    /**
     * This method is called when the html finishes loading.
     * HTML 加载完成事件
     */
    private ionViewDidEnter()
    {
        this.elementCameraButton = document.querySelector('#hy-camera-button');
    }

}
